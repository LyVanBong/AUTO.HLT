<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="AUTOHLT.MOBILE.Views.Home.HomePage"
    xmlns="http://xamarin.com/schemas/2014/forms"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:controls="clr-namespace:AUTOHLT.MOBILE.Controls;assembly=AUTOHLT.MOBILE"
    xmlns:markupExtensions="clr-namespace:AUTOHLT.MOBILE.MarkupExtensions;assembly=AUTOHLT.MOBILE"
    xmlns:icon="clr-namespace:AUTOHLT.MOBILE.Resources.Fonts;assembly=AUTOHLT.MOBILE"
    BackgroundColor="{StaticResource HeaderHome}">
    <ContentPage.Content>
        <ScrollView
            Margin="0"
            Padding="0"
            BackgroundColor="{StaticResource Gray-White}"
            VerticalScrollBarVisibility="Never">
            <Grid
                Margin="0"
                Padding="0"
                BackgroundColor="{StaticResource Gray-White}"
                RowDefinitions="50,160,20,Auto"
                RowSpacing="0">
                <BoxView
                    Grid.Row="0"
                    Grid.RowSpan="2"
                    BackgroundColor="{StaticResource HeaderHome}"
                    CornerRadius="{OnPlatform Android='0,0,50,50',
                                              iOS='0,0,30,30'}" />
                <StackLayout
                    Grid.Row="0"
                    Margin="20,0"
                    Padding="0"
                    Orientation="Horizontal">
                    <Label
                        Margin="0"
                        Padding="0"
                        FontSize="16"
                        HorizontalOptions="FillAndExpand"
                        TextColor="#fff"
                        VerticalOptions="CenterAndExpand">
                        <Label.FormattedText>
                            <FormattedString>
                                <Span
                                    FontFamily="Awesome5ProSolid"
                                    FontSize="28"
                                    Text="{x:Static icon:FontAwesome5ProSolid.Home}"
                                    TextColor="#fff" />
                                <!--<Span Text="{Binding Name}" />-->
                                <Span Text="  " />
                                <Span Text="{Binding UserModel.Name}" TextColor="#fff" />
                                <Span Text=" (" TextColor="#fff" />
                                <!--<Span Text="{Binding UserName}" />-->
                                <Span Text="{Binding UserModel.UserName}" TextColor="#fff" />
                                <Span Text=")" TextColor="#fff" />
                            </FormattedString>
                        </Label.FormattedText>
                    </Label>
                    <Label
                        FontFamily="Awesome5ProSolid"
                        FontSize="25"
                        Text="{x:Static icon:FontAwesome5ProSolid.PowerOff}"
                        TextColor="#f4f4f2"
                        VerticalOptions="CenterAndExpand">
                        <Label.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding LogoutCommand}" />
                        </Label.GestureRecognizers>
                    </Label>
                </StackLayout>
                <Frame
                    Grid.Row="1"
                    Margin="20,10"
                    Padding="0"
                    BackgroundColor="{StaticResource Gray-White}"
                    BorderColor="{StaticResource Gray-300}"
                    CornerRadius="10"
                    HasShadow="True">
                    <Grid
                        Margin="0"
                        Padding="10"
                        ColumnDefinitions="*,*,*,*"
                        ColumnSpacing="0"
                        RowDefinitions="30,*,30"
                        RowSpacing="0">
                        <Grid.Resources>
                            <Style TargetType="BoxView">
                                <Setter Property="BackgroundColor" Value="Transparent" />
                                <Setter Property="CornerRadius" Value="10" />
                                <Setter Property="Margin" Value="2" />
                            </Style>
                            <Style TargetType="Image">
                                <Setter Property="Margin" Value="15" />
                                <Setter Property="Aspect" Value="AspectFit" />
                            </Style>
                        </Grid.Resources>
                        <Label
                            Grid.Row="0"
                            Grid.Column="0"
                            FontSize="16"
                            HorizontalOptions="FillAndExpand"
                            TextColor="{StaticResource Gray-800}"
                            VerticalOptions="CenterAndExpand">
                            <Label.FormattedText>
                                <FormattedString>
                                    <Span FontFamily="Awesome5ProSolid" Text="{x:Static icon:FontAwesome5ProSolid.MoneyCheckAlt}" />
                                    <Span Text=" " />
                                    <Span Text="{markupExtensions:Translate 1000018}" />
                                </FormattedString>
                            </Label.FormattedText>
                        </Label>
                        <Label
                            Grid.Row="0"
                            Grid.Column="1"
                            Grid.ColumnSpan="3"
                            FontSize="16"
                            HorizontalOptions="EndAndExpand"
                            TextColor="{StaticResource Gray-800}">
                            <Label.FormattedText>
                                <FormattedString>
                                    <Span Text="{Binding MoneyUser, Converter={StaticResource StringToPrice}}" />
                                    <Span Text=" " />
                                    <Span FontFamily="Awesome5ProSolid" Text="{x:Static icon:FontAwesome5ProSolid.DollarSign}" />
                                </FormattedString>
                            </Label.FormattedText>
                        </Label>
                        <Label
                            Grid.Row="2"
                            Grid.Column="0"
                            FontSize="12"
                            HorizontalOptions="CenterAndExpand"
                            Text="{markupExtensions:Translate 1000019}" />
                        <Label
                            Grid.Row="2"
                            Grid.Column="1"
                            FontSize="12"
                            HorizontalOptions="CenterAndExpand"
                            Text="{markupExtensions:Translate 1000006}" />
                        <Label
                            Grid.Row="2"
                            Grid.Column="2"
                            FontSize="12"
                            HorizontalOptions="CenterAndExpand"
                            Text="{markupExtensions:Translate 1000021}" />
                        <Label
                            Grid.Row="2"
                            Grid.Column="3"
                            FontSize="12"
                            HorizontalOptions="CenterAndExpand"
                            Text="{markupExtensions:Translate 1000005}" />
                        <Image
                            Grid.Row="1"
                            Grid.Column="0"
                            Source="{markupExtensions:ImageResource icon_transfer.png}" />
                        <Image
                            Grid.Row="1"
                            Grid.Column="1"
                            Source="{markupExtensions:ImageResource icon_change_password.png}" />
                        <Image
                            Grid.Row="1"
                            Grid.Column="2"
                            Source="{markupExtensions:ImageResource icon_notification.png}" />
                        <Image
                            Grid.Row="1"
                            Grid.Column="3"
                            Source="{markupExtensions:ImageResource icon_account.png}" />
                        <BoxView
                            Grid.Row="1"
                            Grid.RowSpan="2"
                            Grid.Column="0">
                            <BoxView.GestureRecognizers>
                                <TapGestureRecognizer Command="{Binding NavigationCommand}" CommandParameter="0" />
                            </BoxView.GestureRecognizers>
                        </BoxView>
                        <BoxView
                            Grid.Row="1"
                            Grid.RowSpan="2"
                            Grid.Column="1">
                            <BoxView.GestureRecognizers>
                                <TapGestureRecognizer Command="{Binding NavigationCommand}" CommandParameter="1" />
                            </BoxView.GestureRecognizers>
                        </BoxView>
                        <BoxView
                            Grid.Row="1"
                            Grid.RowSpan="2"
                            Grid.Column="2" />
                        <BoxView
                            Grid.Row="1"
                            Grid.RowSpan="2"
                            Grid.Column="3">
                            <BoxView.GestureRecognizers>
                                <TapGestureRecognizer Command="{Binding NavigationCommand}" CommandParameter="2" />
                            </BoxView.GestureRecognizers>
                        </BoxView>
                    </Grid>
                </Frame>
                <CollectionView BackgroundColor="{StaticResource Gray-White}" Margin="10,0"  ItemsSource="{Binding ServiceData}"  Grid.Row="3">
                    <CollectionView.ItemsLayout>
                        <GridItemsLayout Orientation="Vertical" Span="3" VerticalItemSpacing="5" HorizontalItemSpacing="5" />
                    </CollectionView.ItemsLayout>
                    <CollectionView.ItemTemplate>
                        <DataTemplate>
                            <Frame
                                Grid.Row="0"
                                Grid.Column="0"
                                HeightRequest="120"
                                Margin="0" Padding="0"
                                BackgroundColor="{StaticResource Gray-100}"
                                BorderColor="{StaticResource Gray-300}"
                                CornerRadius="10"
                                HasShadow="False">
                                <Grid
                                            Margin="0"
                                            Padding="0"
                                            RowDefinitions="*,30">
                                    <Image Margin="10" Grid.Row="0" Source="{Binding IconService}" />
                                    <Label Grid.Row="1" FontAttributes="Bold" VerticalOptions="Center" HorizontalOptions="Center" Text="{Binding TitleService}" />
                                </Grid>
                                <Frame.GestureRecognizers>
                                    <TapGestureRecognizer Command="{Binding NavigationCommand}" CommandParameter="{Binding TypeService}" />
                                </Frame.GestureRecognizers>
                            </Frame>
                        </DataTemplate>
                    </CollectionView.ItemTemplate>
                </CollectionView>
            </Grid>
        </ScrollView>
    </ContentPage.Content>
</ContentPage>